<div data-split-pane data-split-pane-properties="balanceSplitPaneProperties">
    <div data-split-pane-component data-height="60%" class="bg-light">
        <div class="pretty-split-pane-component-inner">
            <div class="main-table-wrapper overflow-auto shadow table-responsive">
                <table class="table table-borderless table-striped table-hover account-operations-table" ts-wrapper>
                    <thead class="thead-dark">
                    <tr>
                        <th></th>
                        <th ts-criteria="id" scope="col" class="align-middle border-0" translate>ID</th>
                        <th ts-criteria="status" scope="col" class="align-middle border-0" translate>STATUS</th>
                        <th ts-criteria="autogenerated" scope="col" class="align-middle border-0" translate>AUTO</th>
                        <th ts-criteria="actualDate" ts-default scope="col" class="align-middle border-0" translate>DATE</th>
                        <th ts-criteria="docDate" scope="col" class="align-middle border-0" translate>DOC_DATE</th>
                        <th ts-criteria="storehouseName" scope="col" class="align-middle border-0" translate>STOREHOUSE</th>
                        <th ts-criteria="recipientName" scope="col" class="align-middle border-0" translate>RECIPIENT</th>
                        <th ts-criteria="supplierName" scope="col" class="align-middle border-0" translate>SUPPLIER</th>
                        <th ts-criteria="userName" scope="col" class="align-middle border-0" translate>USER</th>
                        <th ts-criteria="productName" scope="col" class="align-middle border-0" translate>PRODUCT</th>
                        <!--            <th ts-criteria="tankName" scope="col" class="align-middle border-0" translate>TANK</th>-->
                        <th ts-criteria="litresCounterDoc" scope="col" class="align-middle border-0" translate>LITRES_COUNTER_DOC</th>
                        <th ts-criteria="litresCounterIn" scope="col" class="align-middle border-0" translate>LITRES_COUNTER_IN</th>
                        <th ts-criteria="sum" scope="col" class="align-middle border-0" translate="DECREASE"></th>
                        <th ts-criteria="litresCounterDeviationPct" scope="col" class="align-middle border-0" translate>%</th>
                        <th ts-criteria="litresCounterDeviation" scope="col" class="align-middle border-0" translate>LITRES_COUNTER_DEVIATION</th>
                        <th ts-criteria="divisionName" scope="col" class="align-middle border-0" translate>DIVISION</th>
                        <th ts-criteria="createdAt" scope="col" class="align-middle border-0" translate>CREATED_AT</th>
                        <th ts-criteria="temperatureDoc" scope="col" class="align-middle border-0" translate>TEMPERATURE_DOC</th>
                        <th ts-criteria="temperatureIn" scope="col" class="align-middle border-0" translate>TEMPERATURE_IN</th>
                        <th ts-criteria="temperatureDeviation" scope="col" class="align-middle border-0" translate>TEMPERATURE_DEVIATION</th>
                        <th ts-criteria="densityDoc" scope="col" class="align-middle border-0" translate>DENSITY_DOC</th>
                        <th ts-criteria="densityIn" scope="col" class="align-middle border-0" translate>DENSITY_IN</th>
                        <th ts-criteria="densityDeviation" scope="col" class="align-middle border-0" translate>DENSITY_DEVIATION</th>
                        <th ts-criteria="litresDensityDoc" scope="col" class="align-middle border-0" translate>LITRES_DENSITY_DOC</th>
                        <th ts-criteria="litresDensityIn" scope="col" class="align-middle border-0" translate>LITRES_DENSITY_IN</th>
                        <th ts-criteria="litresDensityDeviation" scope="col" class="align-middle border-0" translate>LITRES_DENSITY_DEVIATION</th>
                        <th ts-criteria="weightDoc" scope="col" class="align-middle border-0" translate>WEIGHT_DOC</th>
                        <th ts-criteria="weightIn" scope="col" class="align-middle border-0" translate>WEIGHT_IN</th>
                        <th ts-criteria="weightDeviation" scope="col" class="align-middle border-0" translate>WEIGHT_DEVIATION</th>
                        <th ts-criteria="orderDescription" scope="col" class="align-middle border-0" translate>COMMENT</th>
                        <th ts-criteria="productNameDoc" scope="col" class="align-middle border-0" translate>PRODUCT_NAME_DOC</th>
                        <th ts-criteria="docNum" scope="col" class="align-middle border-0" translate>DOC_NUM</th>
                        <th ts-criteria="updatedAt" scope="col" class="align-middle border-0" translate>UPDATED_AT</th>
                        <th></th>
                    </tr>
                    <tbody>
                    <tr ng-repeat="item in incomeLog | filter: search" ts-repeat
                        ng-click="setCurrentItem(item)"
                        ng-class="currentItem && item.id == currentItem.id ? 'badge-secondary' : ''">
                        <td>
                            <span class="align-middle mr-1"><i role="button" class="bi bi-clipboard-data" ng-click="$event.stopPropagation();getTankIncomeLog(item)"></i></span>
                            <span class="align-middle mr-1"><i ng-show="item.status==0" role="button" class="bi bi-pencil" ng-click="$event.stopPropagation();editIncomeLog(item)"></i></span>
                            <span class="align-middle"><i ng-show="item.status==0" role="button" class="bi bi-trash" ng-click="$event.stopPropagation();deleteIncomeLog(item)"></i></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.id"></span>
                        </td>
                        <td class="align-middle">
                            <div class="input-group">
                                <input  ng-true-value="1" ng-false-value="0" type="checkbox" ng-model="item.status" ng-click="$event.stopPropagation()" ng-change="changeStatus(item)">
                            </div>
                        </td>
                        <td class="align-middle">
                            <div class="input-group">
                                <input  ng-true-value="1" ng-false-value="0" type="checkbox" ng-model="item.autogenerated" ng-click="$event.stopPropagation()" ng-change="autogenerated(item)">
                            </div>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.actualDate | date:'medium'"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.docDate | date:'medium'"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.storehouseName"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.recipientName"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.supplierName"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.userName"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.productName"></span>
                        </td>
                        <!--            <td class="align-middle">-->
                        <!--                <span ng-bind="item.tankName"></span>-->
                        <!--            </td>-->
                        <td class="align-middle">
                <span ng-if="!inputsMap.litresCounterDoc" ng-bind="item.litresCounterDoc | number : 2"
                      ng-click="showInput('litresCounterDoc', true, item, $event)" class=pointer></span>
                            <input ng-if="inputsMap.litresCounterDoc" ng-model="item.litresCounterDoc"
                                   focus-me="inputsMap.litresCounterDoc"
                                   ng-click="$event.stopPropagation()" class="form-control form-control-sm"
                                   ng-blur="showInput('litresCounterDoc', false, item, $event);saveLog(item)">
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.litresCounterIn | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.sum | number : 2"></span>
                        </td>
                        <td>
                            <span ng-bind="item.litresCounterDeviationPct | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="-item.litresCounterDeviation + item.sum | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.divisionName"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.createdAt | date:'medium'"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.temperatureDoc | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.temperatureIn | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.temperatureDeviation | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.densityDoc | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.densityIn | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.densityDeviation | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.litresDensityDoc | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.litresDensityIn | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.litresDensityDeviation | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.weightDoc | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.weightIn | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.weightDeviation | number : 2"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.orderDescription"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.productNameDoc"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.docNum"></span>
                        </td>
                        <td class="align-middle">
                            <span ng-bind="item.updatedAt | date:'medium'"></span>
                        </td>
                    </tr>
                    <tr>
                        <td class="align-middle">
                            <button class="btn btn-success btn-sm" ng-click="addIncomeLog()"><i class="bi bi-plus"></i></button>
                        </td>
                        <td colspan="34" class="align-middle">
                            <button class="btn btn-success btn-sm" ng-click="exportExcel()"><i
                                    class="bi bi-file-earmark-spreadsheet"></i></button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div data-split-pane-divider data-height="5px"></div>
    <div data-split-pane-component data-height="35%" class="bg-light">
        <div class="pretty-split-pane-component-inner" ng-if="tankIncomeLogs">
            <div class="main-table-wrapper overflow-auto shadow table-responsive">
                <table class="table table-borderless table-striped table-hover account-operations-table" ts-wrapper>
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col" class="align-middle border-0" translate="DATE"></th>
                        <th scope="col" class="align-middle border-0" translate="LEVEL"></th>
                        <th scope="col" class="align-middle border-0" translate="WEIGHT"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in tankIncomeLogs | filter: search"
                        ng-class="{'table-warning':item.logTime == item.transactionStartTime,
                        'table-info':item.logTime == item.actualDate}"
                        ng-click="setTankLog(item)">
                        <td ng-bind="item.logTime"></td>
                        <td ng-bind="item.level | number : 2"></td>
                        <td ng-bind="item.weight | number : 2"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>